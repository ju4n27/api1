var palabras ={
    'feliz' : 30,
    'linda': 27,
    'muerte': -14
}

console.log('**Comenzamos**');

var express = require('express');
var app = express();
var server = app.listen(3000, escuchando);

function escuchando(){
    console.log('**Escuchando el puerto 3000**');
}

app.use(express.static('website'));

app.get('/sumar/:palabra/:puntaje', mandarPalabra);
function mandarPalabra(pedido,respuesta){
    var palabra = pedido.params.palabra;
    var puntaje = Number(pedido.params.puntaje);
    palabras[palabra] = puntaje;
    
    respuesta.send('Gracias por su palabra');
}

app.get('/todos',mandarTodos);
function mandarTodos(pedido,respuesta){
    respuesta.send(palabras);
}

app.get('/buscar/:palabra', busqueda);
function busqueda(pedido,respuesta){
    var palabra = pedido.params.palabra;
    var respuesta2;
    if(palabras[palabra]){
        respuesta2 = {
            status: 'Encontrado!',
            palabra: palabra,
            puntaje: palabras[palabra]
        }
    }
    else{
        respuesta2 = {
            status: 'No encontrado',
            palabra: palabra
        }
    }
    respuesta.send(respuesta2);
}